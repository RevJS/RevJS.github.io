<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Reading Data - RevJS Guide</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  <link href="../../css/highlight.css" rel="stylesheet">
  <link href="../../css/style.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Reading Data";
    var mkdocs_page_input_path = "models/reading_data.md";
    var mkdocs_page_url = "/models/reading_data/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script> 
  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-115939002-1', 'revjs.org');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> RevJS Guide</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Welcome to RevJS!</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Working with Models</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../creating_models/">Defining Models</a>
                </li>
                <li class="">
                    
    <a class="" href="../model_validation/">Adding Validation</a>
                </li>
                <li class="">
                    
    <a class="" href="../revjs_backends/">Storage Backends</a>
                </li>
                <li class="">
                    
    <a class="" href="../creating_data/">Creating Data</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Reading Data</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#reading-model-data">Reading Model Data</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#reading-all-data">Reading All Data</a></li>
        
            <li><a class="toctree-l4" href="#searching-for-data">Searching for Data</a></li>
        
            <li><a class="toctree-l4" href="#revjs-query-operators">RevJS Query Operators</a></li>
        
            <li><a class="toctree-l4" href="#using-limit-and-offset">Using limit and offset</a></li>
        
            <li><a class="toctree-l4" href="#sorting-data">Sorting Data</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../updating_data/">Updating Data</a>
                </li>
                <li class="">
                    
    <a class="" href="../deleting_data/">Deleting Data</a>
                </li>
                <li class="">
                    
    <a class="" href="../related_data/">Working with Related Models</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Creating a GraphQL API</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../creating_an_api/overview/">Creating an API</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Creating a User Interface</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../creating_a_ui/overview/">RevJS UI Overview</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">RevJS Module Reference</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../components/rev-models/">rev-models</a>
                </li>
                <li class="">
                    
    <a class="" href="../../components/rev-backend-mongodb/">rev-backend-mongodb</a>
                </li>
                <li class="">
                    
    <a class="" href="../../components/rev-api/">rev-api</a>
                </li>
                <li class="">
                    
    <a class="" href="../../components/rev-api-client/">rev-api-client</a>
                </li>
                <li class="">
                    
    <a class="" href="../../components/rev-ui/">rev-ui</a>
                </li>
                <li class="">
                    
    <a class="" href="../../changelog/">Change Log</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">RevJS Guide</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Working with Models &raquo;</li>
        
      
    
    <li>Reading Data</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/RevJS/revjs/edit/master/docs/mkdocs/src/models/reading_data.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="reading-model-data">Reading Model Data<a class="headerlink" href="#reading-model-data" title="Permanent link">&para;</a></h1>
<p>Once you have defined your models and created some data, you can read it back
using the
<a href="../../api/rev-models/classes/modelmanager.html#read">ModelManager.read()</a> method.</p>
<h2 id="reading-all-data">Reading All Data<a class="headerlink" href="#reading-all-data" title="Permanent link">&para;</a></h2>
<p>To read all model data without applying any filters, simply pass the model
class to your ModelManager's <strong>read()</strong> function:</p>
<pre><code class="ts">
import { Post, modelManager, createData } from './models';

(async () =&gt; {
    await createData();

    const res = await modelManager.read(Post);

    for (let post of res.results) {
        console.log(post.title);
    }
})();
</code></pre>

<p><strong>IMPORTANT NOTE:</strong> To encourage use of paging, the <strong>read()</strong> function will
only return <strong>the first 20 records</strong> by default. See below for how to use the
<code>limit</code> and <code>offset</code> options to <em>page</em> through the data.</p>
<h2 id="searching-for-data">Searching for Data<a class="headerlink" href="#searching-for-data" title="Permanent link">&para;</a></h2>
<p>RevJS uses a MongoDB-like query language for building search queries. Below are
some examples:</p>
<pre><code class="ts">
import { Post, modelManager, createData } from './models';

(async () =&gt; {
    await createData();

    // Find all posts in the 'technology' category that are published
    const techPosts = await modelManager.read(Post, {
        where: {
            category: 'technology',
            published: true
        }
    });
    console.log('Tech Posts:', techPosts.results);

    // Find all published posts in the 'science' OR 'technology' categories
    const sciTechPosts = await modelManager.read(Post, {
        where: {
            _or: [
                { category: 'science' },
                { category: 'technology' }
            ],
            published: true
        }
    });
    console.log('Science &amp; Technology Posts:', sciTechPosts.results);

    // Find all posts with a rating greater than or equal to 3
    const goodPosts = await modelManager.read(Post, {
        where: {
            rating: { _gte: 3 }
        }
    });
    console.log('Good Posts:', goodPosts.results);

})();
</code></pre>

<h2 id="revjs-query-operators">RevJS Query Operators<a class="headerlink" href="#revjs-query-operators" title="Permanent link">&para;</a></h2>
<h3 id="logical-operators">Logical Operators<a class="headerlink" href="#logical-operators" title="Permanent link">&para;</a></h3>
<p>These operators take an array of conditions (as per the <code>_or</code> example above).</p>
<ul>
<li><code>_and</code> - all conditions in the array must be true</li>
<li><code>_or</code> - at least one of the conditions in the array must be true</li>
</ul>
<h3 id="value-operators">Value Operators<a class="headerlink" href="#value-operators" title="Permanent link">&para;</a></h3>
<p>These operators take a single value (as per the <code>_gte</code> example above).</p>
<ul>
<li><code>_eq</code> - equals - field must exactly match the specified value</li>
<li><code>_neq</code> - not equals - field must not match the specified value</li>
<li><code>_gt</code> - greater than - field must be greater than the specified value</li>
<li><code>_gte</code> - greater than or equal to - field must be greater than or equal to the specified value</li>
<li><code>_lt</code> - less than - field must be less than the specified value</li>
<li><code>_lte</code> - less than or equal to - field must be less than or equal to the specified value</li>
<li><code>_like</code> - like - field must be like the specified value, which can include <code>%</code> symbols to match multiple characters (works as per the traditional SQL 'LIKE' clause)</li>
</ul>
<h3 id="value-list-operators">Value List Operators<a class="headerlink" href="#value-list-operators" title="Permanent link">&para;</a></h3>
<p>These operators take an array of values.</p>
<ul>
<li><code>_in</code> - in - field must match one of the values in the array</li>
<li><code>_nin</code> - not in - field must not match any of the values in the array</li>
</ul>
<h2 id="using-limit-and-offset">Using <code>limit</code> and <code>offset</code><a class="headerlink" href="#using-limit-and-offset" title="Permanent link">&para;</a></h2>
<p>You can use the <code>limit</code> and <code>offset</code> options with the
<a href="../../api/rev-models/classes/modelmanager.html#read">read()</a> method, to
<em>page</em> through query results, as shown in the examples below:</p>
<pre><code class="ts">
import { Post, modelManager, createData } from './models';

(async () =&gt; {
    await createData();

    // Get the first 3 published posts
    const first3Posts = await modelManager.read(Post, {
        where: {
            published: true
        },
        offset: 0,
        limit: 3
    });
    console.log('First 3 Published Posts:', first3Posts.results);

    // Get the next 3 published posts
    const next3Posts = await modelManager.read(Post, {
        where: {
            published: true
        },
        offset: 3,
        limit: 3
    });
    console.log('Next 3 Posts:', next3Posts.results);

    // Just get all the published posts (max 100)
    const allPosts = await modelManager.read(Post, {
        where: {
            published: true
        },
        limit: 100
    });
    console.log('All Teh Posts:', allPosts.results);

})();
</code></pre>

<h2 id="sorting-data">Sorting Data<a class="headerlink" href="#sorting-data" title="Permanent link">&para;</a></h2>
<p>You can use the <strong>orderBy</strong> option to specify the order of the records that are
retrieved from the backend. This option takes an array of field names, and the
records are sorted by each of the specified fields, in order. You can optionally
use the <code>desc</code> keyword after the field name, to sort the values in that field
in descending order.</p>
<pre><code class="ts">
import { Post, modelManager, createData } from './models';

(async () =&gt; {
    await createData();

    // Read all published posts, sorted by Title
    const postsByTitle = await modelManager.read(Post, {
        where: {
            published: true
        },
        limit: 100,
        orderBy: ['title']
    });
    console.log('Posts by Title:', postsByTitle.results);

    // Read all posts, sorted by Title in descending order
    const postsByTitleDesc = await modelManager.read(Post, {
        limit: 100,
        orderBy: ['title desc']
    });
    console.log('Posts by Titie in descending order:', postsByTitleDesc.results);

    // Read the first 10 posts sorted by Rating, then by Title
    const top10Posts = await modelManager.read(Post, {
        limit: 10,
        orderBy: ['rating desc', 'title']
    });
    console.log('Top Posts:', top10Posts.results);

})();
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../updating_data/" class="btn btn-neutral float-right" title="Updating Data">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../creating_data/" class="btn btn-neutral" title="Creating Data"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/RevJS/revjs/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../creating_data/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../updating_data/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js"></script>
      <script src="../../js/highlight.pack.js"></script>
      <script src="../../search/require.js"></script>
      <script src="../../search/search.js"></script>

</body>
</html>
